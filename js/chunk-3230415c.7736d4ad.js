(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3230415c"],{"2fd2":function(e,t,a){},7037:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"areas-box"},[a("div",{staticClass:"treat-areas-head"},[a("el-form",{staticClass:"demo-form-inline",staticStyle:{width:"100%"},attrs:{size:"small",inline:!0,model:e.formInline,"label-position":"right","label-width":"auto"}},[a("el-form-item",{attrs:{label:"关键词："}},[a("el-input",{attrs:{placeholder:"请输入关键字"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),a("el-form-item",{staticClass:"select-button"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.seekSubmit(e.formInline.name)}}},[e._v("查询")])],1),a("el-form-item",{staticClass:"select-button"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addSubmit}},[e._v("添加治疗区")])],1)],1)],1),a("div",{staticClass:"treat-areas-body"},[a("div",{staticClass:"treat-areas-table"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{height:e.tableHeight,data:e.areasData,border:""},on:{"row-dblclick":e.rowDblclick}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"#",width:"60",fixed:"",align:"center"}}),a("el-table-column",{attrs:{prop:"code",label:"治疗区编码",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"治疗区名称",align:"center"}}),a("el-table-column",{attrs:{label:"治疗区颜色",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{width:"20px",height:"20px","border-radius":"50%",display:"inline-block","vertical-align":"middle","margin-right":"5px",border:"1px solid #EBEEF5"},style:{background:e.areasData[t.$index].logoColor}}),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s(e.areasData[t.$index].logoColor))])]}}])}),a("el-table-column",{attrs:{prop:"isEnable",label:"是否启用",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{disabled:!0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.areasData[t.$index].isEnable,callback:function(a){e.$set(e.areasData[t.$index],"isEnable",a)},expression:"areasData[scope.$index].isEnable"}})]}}])}),a("el-table-column",{attrs:{prop:"control",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,e.areasData)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,e.areasData)}}},[e._v("删除")])]}}])})],1)]],2)]),a("el-dialog",{attrs:{title:"添加治疗区",visible:e.centerDialogVisible,width:"400px",closeOnClickModal:!1},on:{"update:visible":function(t){e.centerDialogVisible=t},close:function(t){return e.dialogBtnClick(!1,"addItem")}}},[a("div",[a("el-row",[a("el-form",{ref:"addItem",attrs:{model:e.addItem,"label-width":"100px"}},[a("el-col",[a("el-form-item",{attrs:{label:"治疗区名称",prop:"name",rules:[{required:!0,message:"治疗区名称不能为空"}]}},[a("el-input",{model:{value:e.addItem.name,callback:function(t){e.$set(e.addItem,"name",t)},expression:"addItem.name"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"治疗区编码",prop:"code",rules:[{required:!0,message:"治疗区编码不能为空"}]}},[a("el-input",{model:{value:e.addItem.code,callback:function(t){e.$set(e.addItem,"code",t)},expression:"addItem.code"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"治疗区颜色",prop:"logoColor",rules:[{required:!0,message:"治疗区颜色不能为空"}]}},[a("el-color-picker",{model:{value:e.addItem.logoColor,callback:function(t){e.$set(e.addItem,"logoColor",t)},expression:"addItem.logoColor"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"是否启用"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:e.addSwitchChange},model:{value:e.addItem.isEnable,callback:function(t){e.$set(e.addItem,"isEnable",t)},expression:"addItem.isEnable"}})],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.dialogBtnClick(!1,"addItem")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dialogBtnClick(!0,"addItem")}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"修改治疗区",visible:e.changeBoxShow,width:"400px",closeOnClickModal:!1},on:{"update:visible":function(t){e.changeBoxShow=t}}},[a("div",[a("el-row",[a("el-form",{ref:"changeItem",attrs:{model:e.changeItem,"label-width":"100px"}},[a("el-col",[a("el-form-item",{attrs:{label:"治疗区名称",prop:"name",rules:[{required:!0,message:"治疗区名称不能为空"}]}},[a("el-input",{model:{value:e.changeItem.name,callback:function(t){e.$set(e.changeItem,"name",t)},expression:"changeItem.name"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"治疗区编码 ",prop:"code",rules:[{required:!0,message:"治疗区编码不能为空"}]}},[a("el-input",{model:{value:e.changeItem.code,callback:function(t){e.$set(e.changeItem,"code",t)},expression:"changeItem.code"}})],1),a("el-form-item",{attrs:{label:"治疗区颜色 ",prop:"logoColor",rules:[{required:!0,message:"治疗区颜色不能为空"}]}},[a("el-color-picker",{model:{value:e.changeItem.logoColor,callback:function(t){e.$set(e.changeItem,"logoColor",t)},expression:"changeItem.logoColor"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"是否启用"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:e.chanSwitchChange},model:{value:e.changeItem.isEnable,callback:function(t){e.$set(e.changeItem,"isEnable",t)},expression:"changeItem.isEnable"}})],1)],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.changeClick(!1)}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeClick(!0,"changeItem")}}},[e._v("确 定")])],1)])],1)},o=[],l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=(a("7f7f"),a("96cf"),a("3b8d")),r=a("d225"),c=a("b0b4"),s=a("308d"),d=a("6bb5"),u=a("4e2b"),m=a("9ab4"),f=a("60a3"),b=a("d201");function h(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach(function(t){Object(l["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var p=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(s["a"])(this,Object(d["a"])(t).call(this)),e.areasData=[],e.formInline={name:""},e.addData={treatAreaDataId:"",name:"",code:"",logoColor:"",isEnable:!0},e.tableHeight=window.innerHeight-130,e.centerDialogVisible=!1,e.addItem={treatAreaDataId:"",name:"",code:"",logoColor:"#000000",isEnable:!0},e.changeBoxShow=!1,e.changeItem={treatAreaDataId:"",name:"",code:"",logoColor:"",isEnable:!0},e}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"created",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(b["c"])();case 2:this.areasData=e.sent,console.log(this.areasData);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"indexMethod",value:function(e){return e+1}},{key:"getArea",value:function(){var e=this;return Object(b["c"])({name:this.formInline.name}).then(function(t){e.areasData=t,console.log("查询治疗区",t)})}},{key:"seekSubmit",value:function(e){var t=this;Object(b["c"])({name:e}).then(function(e){t.areasData=e,console.log("查询治疗区",e)})}},{key:"handleDelete",value:function(e,t){var a=this;console.log(t[e]),this.$confirm("是否删除  ".concat(t[e].name," 治疗区?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(b["b"])(t[e].treatAreaDataId).then(function(){a.$message({type:"success",message:"".concat(t[e].name,"治疗区删除成功!")}),a.getArea()}).catch(function(e){a.$message.error(e)}).catch(function(){})})}},{key:"addSubmit",value:function(){this.centerDialogVisible=!0,console.log("添加框")}},{key:"addSwitchChange",value:function(e){this.addItem.isEnable=e,console.log(e)}},{key:"dialogBtnClick",value:function(e,t){var a=this;e?this.$refs[t].validate(function(e){e?(a.formInline.name="",Object(b["a"])(a.addItem).then(function(e){a.centerDialogVisible=!1,a.$message({message:a.addItem.name+"治疗区添加成功",type:"success"}),a.getArea()}).catch(function(e){a.$message.error("项目添加失败"+e),a.centerDialogVisible=!1}),console.log(a.addItem)):console.log("error submit!!")}):(console.log("取消"),this.centerDialogVisible=!1,this.$refs[t].resetFields(),this.addItem.isEnable=!0)}},{key:"rowDblclick",value:function(e){this.changeBoxShow=!0,this.changeItem=g({},e)}},{key:"handleEdit",value:function(e,t){this.changeBoxShow=!0,this.changeItem=g({},t[e]),console.log(e,this.changeItem)}},{key:"chanSwitchChange",value:function(e){this.changeItem.isEnable=e}},{key:"changeClick",value:function(e,t){var a=this;e?this.$refs[t].validate(function(e){e?(a.changeBoxShow=!1,Object(b["d"])(a.changeItem.treatAreaDataId,a.changeItem).then(function(e){a.getArea(),a.$message({message:a.addItem.name+"修改成功",type:"success"})}).catch(function(e){a.$message.error("修改失败"+e)}),console.log("确定修改")):console.log("error submit!!")}):(console.log("取消修改"),this.changeBoxShow=!1,this.getArea())}},{key:"mounted",value:function(){var e=this;window.onresize=function(){console.log("窗口发生了变化"),e.tableHeight=window.innerHeight-130}}}]),t}(f["d"]);p=m["a"]([Object(f["a"])({components:{}})],p);var v=p,I=v,k=(a("cc14"),a("2877")),y=Object(k["a"])(I,n,o,!1,null,"9228dcac",null);t["default"]=y.exports},"7f7f":function(e,t,a){var n=a("86cc").f,o=Function.prototype,l=/^\s*function ([^ (]*)/,i="name";i in o||a("9e1e")&&n(o,i,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(e){return""}}})},cc14:function(e,t,a){"use strict";var n=a("2fd2"),o=a.n(n);o.a},d201:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"a",function(){return l}),a.d(t,"d",function(){return i}),a.d(t,"b",function(){return r});var n=a("eabe");function o(e){return n["a"].get("/api/admin/basedata/TreatAreas",e)}function l(e){return n["a"].post("/api/admin/basedata/TreatAreas",e)}function i(e,t){return n["a"].put("/api/admin/basedata/TreatAreas/"+e,t)}function r(e){return n["a"].delete("/api/admin/basedata/TreatAreas/"+e)}}}]);