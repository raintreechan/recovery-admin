(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55d8f1ee"],{"0fb3":function(e,t,o){"use strict";var r=o("86e3"),s=o.n(r);s.a},1760:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"user_form",attrs:{title:e.userInfoForm.userDataId?"用户管理":"用户添加",width:"600px",visible:e.isShow,closeOnClickModal:!1},on:{close:function(t){return e.closeDialog("userInfoForm")},"update:visible":function(t){e.isShow=t}}},[o("el-form",{ref:"userInfoForm",attrs:{"label-width":"100px",model:e.userInfoForm}},[o("el-form-item",{attrs:{label:"用户名",prop:"userCode",rules:[{required:!0,message:"用户名不能为空",trigger:"blur"}]}},[o("el-col",{attrs:{span:16}},[o("el-input",{attrs:{maxlength:"11"},model:{value:e.userInfoForm.userCode,callback:function(t){e.$set(e.userInfoForm,"userCode",t)},expression:"userInfoForm.userCode"}})],1)],1),o("el-form-item",{attrs:{label:"密码",prop:"password",rules:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:8,max:16,message:"密码长度为 8 到 16 个字符",trigger:"blur"}]}},[o("el-col",{attrs:{span:16}},[o("el-input",{attrs:{maxlength:"16",type:"password"},model:{value:e.userInfoForm.password,callback:function(t){e.$set(e.userInfoForm,"password",t)},expression:"userInfoForm.password"}})],1)],1),o("el-form-item",{attrs:{label:"姓名",prop:"realName",rules:[{required:!0,message:"姓名不能为空",trigger:"blur"}]}},[o("el-col",{attrs:{span:16}},[o("el-input",{model:{value:e.userInfoForm.realName,callback:function(t){e.$set(e.userInfoForm,"realName",t)},expression:"userInfoForm.realName"}})],1)],1),o("el-form-item",{attrs:{label:"性别"}},[o("el-radio-group",{model:{value:e.userInfoForm.sex,callback:function(t){e.$set(e.userInfoForm,"sex",t)},expression:"userInfoForm.sex"}},[o("el-radio",{attrs:{label:"男"}}),o("el-radio",{attrs:{label:"女"}})],1)],1),o("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"出生日期"}},[o("el-col",{attrs:{span:16}},[o("el-form-item",[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.userInfoForm.birthDay,callback:function(t){e.$set(e.userInfoForm,"birthDay",t)},expression:"userInfoForm.birthDay"}})],1)],1)],1),o("el-form-item",{attrs:{label:"科室"}},[o("el-col",{attrs:{span:16}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择科室"},model:{value:e.userInfoForm.deptDataId,callback:function(t){e.$set(e.userInfoForm,"deptDataId",t)},expression:"userInfoForm.deptDataId"}},e._l(e.deptList,function(e){return o("el-option",{key:e.deptDataId,attrs:{label:e.deptName,value:e.deptDataId}})}),1)],1)],1),e.userInfoForm.isAdmin?e._e():o("el-form-item",{attrs:{label:"职称"}},[o("el-col",{attrs:{span:16}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择职称"},model:{value:e.userInfoForm.position,callback:function(t){e.$set(e.userInfoForm,"position",t)},expression:"userInfoForm.position"}},e._l(e.positionList,function(e){return o("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}),1)],1)],1),o("el-form-item",{attrs:{label:"角色"}},[o("el-col",{attrs:{span:16}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择角色"},model:{value:e.userInfoForm.roleDataId,callback:function(t){e.$set(e.userInfoForm,"roleDataId",t)},expression:"userInfoForm.roleDataId"}},e._l(e.roleList,function(e){return o("el-option",{key:e.roleDataId,attrs:{label:e.roleName,value:e.roleDataId}})}),1)],1)],1),o("el-form-item",{attrs:{label:"手机号",prop:"phoneNo",rules:[{required:!1,pattern:/^0{0,1}(13[0-9]|15[0-9]|17[0-9]|18[0-9])[0-9]{8}$/,message:"手机号格式不对"}]}},[o("el-col",{attrs:{span:16}},[o("el-input",{attrs:{maxlength:"11"},model:{value:e.userInfoForm.phoneNo,callback:function(t){e.$set(e.userInfoForm,"phoneNo",e._n(t))},expression:"userInfoForm.phoneNo"}})],1)],1),o("el-form-item",{attrs:{label:"领导用户",prop:"leaderUserDataId"}},[o("el-col",{attrs:{span:16}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择用户列表"},model:{value:e.userInfoForm.leaderUserDataId,callback:function(t){e.$set(e.userInfoForm,"leaderUserDataId",t)},expression:"userInfoForm.leaderUserDataId"}},e._l(e.userRole,function(e,t){return o("el-option",{key:t,attrs:{label:e.realName,value:e.userDataId}})}),1)],1)],1),o("el-form-item",{attrs:{label:"是否启用"}},[o("el-radio-group",{model:{value:e.userInfoForm.isEnable,callback:function(t){e.$set(e.userInfoForm,"isEnable",t)},expression:"userInfoForm.isEnable"}},[o("el-radio",{attrs:{label:!0}},[e._v("是")]),o("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){return e.closeDialog("userInfoForm")}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userInfoForm",!0)}}},[e._v(e._s(e.userInfoForm.userDataId?"修改":"添加"))]),e.userInfoForm.userDataId?e._e():o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userInfoForm",!1)}}},[e._v("添加并关闭窗口")])],1)],1)},s=[],a=o("d225"),l=o("b0b4"),n=o("308d"),i=o("6bb5"),u=o("4e2b"),c=o("9ab4"),m=o("60a3"),f=o("9e32"),d=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(n["a"])(this,Object(i["a"])(t).call(this)),e.isShow=!1,e.dialogVisible=!1,e.userRole=[],e}return Object(u["a"])(t,e),Object(l["a"])(t,[{key:"onDialogVisibleChange",value:function(e){this.isShow=e}},{key:"isShowSelect",value:function(){!0===this.isShow&&(this.upSelectDate(),console.log(this.isShow))}},{key:"upSelectDate",value:function(){var e=this;Object(f["f"])({pageIndex:0,pageSize:99999}).then(function(t){e.userRole=t.rows,console.log(t)}).catch(function(e){console.log(e)})}},{key:"resetForm",value:function(e){e&&this.$refs[e].resetFields()}},{key:"submitForm",value:function(e,t){var o=this;this.$refs[e].validate(function(r){if(!r)return!1;o.userInfoForm.userDataId?(console.log(o.userInfoForm),Object(f["g"])(o.userInfoForm.userDataId,o.userInfoForm).then(function(r){r.isSuccess?(t||o.closeDialog(e),o.$message({message:"修改成功",type:"success"})):o.$message({message:"修改失败",type:"error"})}).catch(function(){o.$message({message:"修改失败",type:"error"})})):(console.log(o.userInfoForm),Object(f["a"])(o.userInfoForm).then(function(r){r.isSuccess?(t||o.closeDialog(e),o.resetForm(e),o.$message({message:"添加成功",type:"success"}),o.$emit("addUserInfo")):o.$message({message:"添加失败",type:"error"})}))})}},{key:"closeDialog",value:function(e){this.resetForm(e),this.$emit("dialogValue",!1)}}]),t}(m["d"]);c["a"]([Object(m["b"])({default:!1})],d.prototype,"dialogVisible",void 0),c["a"]([Object(m["b"])({})],d.prototype,"userInfoForm",void 0),c["a"]([Object(m["b"])({default:new Array})],d.prototype,"deptList",void 0),c["a"]([Object(m["b"])({default:new Array})],d.prototype,"roleList",void 0),c["a"]([Object(m["b"])({default:new Array})],d.prototype,"positionList",void 0),c["a"]([Object(m["e"])("dialogVisible")],d.prototype,"onDialogVisibleChange",null),c["a"]([Object(m["e"])("isShow")],d.prototype,"isShowSelect",null),d=c["a"]([m["a"]],d);var p=d,b=p,I=(o("0fb3"),o("2877")),F=Object(I["a"])(b,r,s,!1,null,null,null);t["default"]=F.exports},"86e3":function(e,t,o){}}]);