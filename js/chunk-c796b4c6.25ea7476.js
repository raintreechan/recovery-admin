(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c796b4c6"],{"09cf":function(t,e,a){"use strict";a.d(e,"c",function(){return r}),a.d(e,"b",function(){return i}),a.d(e,"d",function(){return o}),a.d(e,"a",function(){return s});var n=a("eabe");function r(t){return n["a"].get("/api/visit/Visits/GetVisitPage",t)}function i(t){return n["a"].get("/api/visit/visits/GetVisitInfo",t)}function o(t){return n["a"].get("/api/visit/visits/GetVisitFlowInfo",t)}function s(t){return n["a"].get("/api/treatArrange/TreatArrange/getVisitArrangeInfo",t)}},"60aa":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"patient-information-wrapper"},[a("el-dialog",{attrs:{title:"患者详情",visible:t.isInformationShow,width:"1050px","before-close":t.closeDiaglog},on:{"update:visible":function(e){t.isInformationShow=e}}},[t.patient.patientInfo?a("div",{staticClass:"patient-information"},[a("div",{staticClass:"patient"},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:8}},[t._v("姓名："+t._s(t.patient.patientInfo.name))]),a("el-col",{attrs:{span:8}},[t._v("性别："+t._s(t.patient.patientInfo.sex))]),a("el-col",{attrs:{span:8}},[t._v("出生日期："+t._s(t.patient.patientInfo.birthday.slice(0,11)))]),a("el-col",{attrs:{span:8}},[t._v("手机号码："+t._s(t.patient.patientInfo.telPhone))]),a("el-col",{attrs:{span:8}},[t._v("身份证号："+t._s(t.patient.patientInfo.cardNo))]),a("el-col",{attrs:{span:8}},[t._v("医保类型："+t._s(t.getInsuranceType(t.patient.insuranceType)))])],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("住院信息")]),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:8}},[t._v("入院日期："+t._s(t.patient.visitDate.slice(0,11)))]),a("el-col",{attrs:{span:8}},[t._v("床位号："+t._s(t.patient.bedNo))]),a("el-col",{attrs:{span:8}},[t._v("管床医生："+t._s(t.patient.doctorName))]),a("el-col",{attrs:{span:8}},[t._v("住院号："+t._s(t.patient.inPatientNo))]),a("el-col",{attrs:{span:8}},[t._v("\r\n            疾病诊断：\r\n            "),t._l(t.patient.toICD10s,function(e,n){return a("label",{key:n},[t._v("\r\n              "+t._s(e.icD10Name)+"\r\n              "),n<t.patient.toICD10s.length-1?a("span",[t._v("、")]):t._e()])})],2),a("el-col",{attrs:{span:8}},[t._v("重症患者："+t._s(t.patient.isSeriousIllness?"是":"否"))])],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:24}},[t._v("特殊说明："+t._s(t.patient.specialDesc?t.patient.specialDesc:"无"))])],1)],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("医嘱信息")]),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.arranges}},[a("el-table-column",{attrs:{prop:"date",align:"center",label:"治疗日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.arrangeStartDate?e.row.arrangeStartDate.slice(5,11):" -")+"至"+t._s(e.row.arrangeEndDate?e.row.arrangeEndDate.slice(5,11):" -"))]}}],null,!1,1608759491)}),a("el-table-column",{attrs:{align:"center",label:"治疗时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.arrangeStartTime)+"-"+t._s(e.row.arrangeEndTime))]}}],null,!1,3100573650)}),a("el-table-column",{attrs:{align:"center",prop:"treatPlanName",label:"治疗项目"}}),a("el-table-column",{attrs:{align:"center",prop:"sugTreatDoctorName",label:"治疗师"}}),a("el-table-column",{attrs:{align:"center",prop:"arrangeAreaName",label:"治疗地点"}}),a("el-table-column",{attrs:{align:"center",prop:"frequencyName",label:"治疗频次"}})],1)],a("el-divider",{attrs:{"content-position":"left"}},[t._v("治疗医嘱")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.treatPlanList}},[a("el-table-column",{attrs:{align:"center",prop:"treatPlanOrderName",label:"名称"}}),a("el-table-column",{attrs:{align:"center",prop:"frequencyCode",label:"治疗频次",width:"100"}}),a("el-table-column",{attrs:{align:"center",prop:"startTime",label:"开始时间"}}),a("el-table-column",{attrs:{align:"center",label:"医嘱"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.menuOrderItems,function(e,n){return a("div",{key:n},[t._v("\r\n              "+t._s(e.treatItemName)+"------"+t._s(e.positionCount)+"(部位数)\r\n            ")])})}}],null,!1,3131874917)}),a("el-table-column",{attrs:{align:"center",prop:"description",label:"备注"}}),a("el-table-column",{attrs:{width:"120px",label:"治疗安排",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.arrangeClick(e.$index,e.row)}}},[t._v("查看")])]}}],null,!1,1620670412)})],1)],2):t._e()]),a("el-drawer",{attrs:{title:t.currentArrangItem.treatPlanOrderName,visible:t.drawer,"before-close":t.handleClose},on:{"update:visible":function(e){t.drawer=e}}},t._l(t.resultArrangeInfo,function(e,n){return a("el-card",{key:n,staticClass:"box-card",staticStyle:{margin:"15px"}},[a("div",{staticClass:"arrangelist"},[a("p",[t._v("治疗日期："+t._s(e.arrangeDate.slice(0,11)))]),a("p",[t._v("治疗时间："+t._s(e.arrangeStartTime)+"-"+t._s(e.arrangeEndTime))]),a("p",[t._v("治疗师："+t._s(e.sugTreatDoctorName))]),a("p",[t._v("治疗地点："+t._s(e.arrangeAreaName))]),a("p",[t._v("治疗频次："+t._s(e.frequencyName))])])])}),1)],1)},r=[],i=a("d225"),o=a("b0b4"),s=a("308d"),l=a("6bb5"),c=a("4e2b"),u=a("9ab4"),p=a("60a3"),d=a("96d9"),f=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(s["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.resultArrangeInfo=[],t.currentArrangItem=[],t.drawer=!1,t.doctor=[{title:"下达医嘱",orderLastTime:""},{title:"安排治疗师",treatPlanArranges:[]},{title:"安排治疗时间",arranges:[]}],t}return Object(c["a"])(e,t),Object(o["a"])(e,[{key:"arrangeClick",value:function(t,e){var a;console.log(e),console.log(this.arrangeInfo),a=this.arrangeInfo.arranges.filter(function(t){if(e.treatPlanOrderDataId==t.treatPlanOrderDataId)return t}),console.log("result为",a),a.length>0?(this.drawer=!0,this.currentArrangItem.treatPlanOrderName=e.treatPlanOrderName,this.currentArrangItem.frequencyName=e.frequencyName,this.resultArrangeInfo=a):this.$message({message:"尚未进行治疗安排",type:"warning"})}},{key:"handleClose",value:function(){this.drawer=!1}},{key:"getInsuranceType",value:function(t){return Object(d["a"])(t,this.medicalInsurance)}},{key:"closeDiaglog",value:function(){this.$emit("close")}},{key:"updated",value:function(){console.log("patient",this.patient),console.log("arranges",this.arranges),console.log("treatPlanArranges",this.treatPlanArranges),console.log("medicalInsurance",this.medicalInsurance)}},{key:"filterPatient",get:function(){return this.doctor[0].doctorName=this.patient.doctorName,this.doctor[0].orderLastTime=this.orderLastTime,this.doctor[1].treatPlanArranges=this.treatPlanArranges,this.doctor[2].arranges=this.arranges,this.doctor}}]),e}(p["d"]);u["a"]([Object(p["b"])({default:!0,type:Boolean})],f.prototype,"isInformationShow",void 0),u["a"]([Object(p["b"])()],f.prototype,"patient",void 0),u["a"]([Object(p["b"])({type:Array})],f.prototype,"arranges",void 0),u["a"]([Object(p["b"])({type:Array})],f.prototype,"treatPlanArranges",void 0),u["a"]([Object(p["b"])({type:String})],f.prototype,"orderLastTime",void 0),u["a"]([Object(p["b"])({type:Array})],f.prototype,"medicalInsurance",void 0),u["a"]([Object(p["b"])({type:Array})],f.prototype,"treatPlanList",void 0),u["a"]([Object(p["b"])({type:Object})],f.prototype,"arrangeInfo",void 0),u["a"]([Object(p["c"])()],f.prototype,"resultArrangeInfo",void 0),u["a"]([Object(p["c"])()],f.prototype,"currentArrangItem",void 0),u["a"]([Object(p["c"])()],f.prototype,"drawer",void 0),u["a"]([Object(p["c"])()],f.prototype,"doctor",void 0),f=u["a"]([Object(p["a"])({components:{}})],f);var g=f,b=g,m=(a("d95c"),a("a8bf"),a("2877")),v=Object(m["a"])(b,n,r,!1,null,"1e850a6a",null);e["a"]=v.exports},"73af":function(t,e,a){"use strict";a.d(e,"a",function(){return r});var n=a("eabe");function r(){return n["a"].get("/api/basedata/ConstValues/GetMedicalInsuranceTypes")}},"954a":function(t,e,a){},"95dc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-form",{ref:"formInline",staticClass:"demo-form-inline",staticStyle:{width:"100%"},attrs:{size:"small",inline:!0,model:t.formInline,"label-position":"right","label-width":"auto"}},[a("el-form-item",{attrs:{label:"关键词："}},[a("el-input",{attrs:{placeholder:"请输入关键字"},model:{value:t.formInline.patientInfo,callback:function(e){t.$set(t.formInline,"patientInfo",e)},expression:"formInline.patientInfo"}})],1),a("el-form-item",{staticClass:"select-button"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.seekSubmit()}}},[t._v("查询")])],1)],1)],1),a("information",{attrs:{isInformationShow:t.isShow,patient:t.patientDetails,arranges:t.arranges,treatPlanArranges:t.treatPlanArranges,orderLastTime:"2018-00-00",medicalInsurance:t.medicalInsurance},on:{close:t.closeDialog}})],1)},r=[],i=(a("96cf"),a("3b8d")),o=a("d225"),s=a("b0b4"),l=a("308d"),c=a("6bb5"),u=a("4e2b"),p=a("9ab4"),d=a("60a3"),f=a("09cf"),g=a("60aa"),b=a("73af"),m=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(l["a"])(this,Object(c["a"])(e).apply(this,arguments)),t.formInline={patientInfo:"",category:1,isMyPatient:!1,pageIndex:1,pageSize:20},t.patientDetails={},t.arranges=[],t.treatPlanArranges=[],t.medicalInsurance=[],t.isShow=!1,t.visitCategory=[{}],t}return Object(u["a"])(e,t),Object(s["a"])(e,[{key:"created",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["c"])(this.formInline).then(function(t){console.log(e.visitCategory),console.log(t)}).catch(function(t){console.log(t)});case 2:console.log("患者列表进来了");case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"seekSubmit",value:function(){var t=this;console.log("查询"),this.isShow=!0,Object(f["b"])({visitId:"1193690490999017472"}).then(function(e){console.log(e),t.patientDetails=e}),Object(f["a"])({visitId:"1193690490999017472",date:"2019-11-28"}).then(function(e){console.log(e),t.arranges=e.arranges,t.treatPlanArranges=e.treatPlanArranges}),Object(b["a"])().then(function(e){console.log(e),t.medicalInsurance=e})}},{key:"addsubmit",value:function(){console.log("增加")}},{key:"closeDialog",value:function(){this.isShow=!1}}]),e}(d["d"]);m=p["a"]([Object(d["a"])({components:{information:g["a"]}})],m);var v=m,h=v,_=a("2877"),y=Object(_["a"])(h,n,r,!1,null,null,null);e["default"]=y.exports},"96d9":function(t,e,a){"use strict";function n(t,e){for(var a=0;a<e.length;a++)if(e[a].key==t)return e[a].value}function r(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,n=t.getDate(),r=e+"-"+i(a)+"-"+i(n);return r}function i(t){return t<10?"0"+t:t}function o(t){var e=new Date;t&&(e=new Date(t));var a=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),o=e.getHours(),s=e.getMinutes(),l=a+"-"+i(n)+"-"+i(r)+" "+i(o)+":"+i(s);return l}a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r}),a.d(e,"c",function(){return o})},a221:function(t,e,a){},a8bf:function(t,e,a){"use strict";var n=a("a221"),r=a.n(n);r.a},d95c:function(t,e,a){"use strict";var n=a("954a"),r=a.n(n);r.a}}]);